!function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));const o=document.querySelector(".comeBack .btn");function a(t){t?o.classList.remove("hidden"):o.classList.add("hidden")}function c(t){o.onclick=()=>{o.classList.remove("hidden"),t()}}},function(t,e,n){"use strict";const o={method:"GET",redirect:"follow"},a=new Promise(t=>{fetch("js/site-with-alt.json",o).then(t=>t.json()).then(e=>{t(e)})});e.a=a},function(t,e,n){"use strict";function o(t,e,n=null){const o=document.createElement("li");o.classList.add("tags__elt");const a=document.createElement(e);return"a"===e&&(a.href=n),a.classList.add("tags__btn","btn","btn--tags"),a.textContent="#"+t,o.append(a),o}function a(t){const e=document.createElement("article");e.classList.add("cardAuthor");const n=document.createElement("a");n.classList.add("cardAuthor__link"),n.href="./photographe.html?author="+t.id,e.append(n);const a=document.createElement("div");a.classList.add("cardAuthor__imgBox"),n.append(a);const c=document.createElement("img");c.classList.add("cardAuthor__img"),c.alt="Portrait du photographe "+t.name,c.src="./img/authors/"+t.portrait,a.append(c);const r=document.createElement("h2");r.classList.add("cardAuthor__name"),r.textContent=t.name,n.append(r);const s=document.createElement("div");s.classList.add("cardAuthor__content"),e.append(s);const i=document.createElement("p");i.classList.add("cardAuthor__localisation"),i.textContent=`${t.city}, ${t.country}`,s.append(i);const d=document.createElement("p");d.classList.add("cardAuthor__citation"),d.textContent=t.tagline,s.append(d);const l=document.createElement("p");l.classList.add("cardAuthor__tarif"),l.textContent=t.price+"/jour",s.append(l);const u=document.createElement("div");u.classList.add("cardAuthor__tags"),e.append(u);const m=document.createElement("ul");return m.classList.add("tags"),u.append(m),t.tags.forEach(t=>{const e=o(t,"button");m.append(e)}),e}function c(t){const e=document.querySelector("title"),n="header_author",a=document.querySelector(`#${n} .author__title`),c=document.querySelector(`#${n} .author__localisation`),r=document.querySelector(`#${n} .author__slogan`),s=document.querySelector(`#${n} .tags`),i=document.querySelector(`#${n} .author__img`),d=document.querySelector(".infoAuthor__price span");e.textContent=e.textContent+t.name,a.textContent=t.name,c.textContent=`${t.city}, ${t.country}`,r.textContent=t.tagline,i.src="./img/authors/"+t.portrait,i.alt="Portrait du photographe "+t.name,d.textContent=t.price,t.tags.forEach(t=>{const e=o(t,"a","./../?filter="+t);s.append(e)})}n.d(e,"a",(function(){return s}));var r=n(0);function s(){this.CreateElement=function(t,e,n){const o=t;return"card"===e?o.cardPhotographer=new a(t):o.cardHeaderPhotographer=new c(t),o.showCard=function(){const t=document.getElementById("listPhotographers"),e=this.cardPhotographer.querySelectorAll(".tags__btn");Array.from(e).forEach(t=>{t.onclick=()=>{const e=t.textContent.replace(/#/,"").toLowerCase();Object(r.b)(!0),n(e)}}),t.append(this.cardPhotographer)},o}}},function(t,e,n){"use strict";n.r(e);const o=window.location.search,a=new URLSearchParams(o);var c=parseInt(a.get("author"),10),r=n(1),s=n(2);function i(t,e){const n=document.createElement("div");n.classList.add("listPhoto__card"),n.tabIndex=0;const o=document.createElement("div");o.classList.add("listPhoto__container");const a=document.createElement("div");a.classList.add("listPhoto__imgBox");const c=document.createElement("img");c.classList.add("listPhoto__img"),c.alt=t.alt,c.src=`img/${t.photographerId}/${t.image}`;const r=document.createElement("div");r.classList.add("listPhoto__content");const s=document.createElement("h2");s.classList.add("listPhoto__title");const i=t.image.replace(/_/g," ").replace(/.jpg/g,"");s.textContent=i;const d=document.createElement("div");d.classList.add("listPhoto__info");const l=document.createElement("p");l.classList.add("listPhoto__price"),l.textContent=t.price+" € ";const u=document.createElement("div");u.tabIndex=0,u.roles="button",u.ariaLabel="AJouter un like",u.classList.add("listPhoto__like"),u.innerHTML=`<span>${t.likes}</span>`;const m=document.createElement("i");return m.classList.add("fas","fa-heart"),u.ariaLabel="Likes",n.append(o),o.append(a),o.append(r),a.append(c),r.append(s),r.append(d),d.append(l),d.append(u),u.append(m),n}function d(t){const e=document.querySelector(".infoAuthor__like span");let n=0;t.forEach(t=>{n+=t.likes}),e.textContent=n}function l(t,e,n,o,a){const c=t[n].id,r=t[n].textContent;e.querySelector(".listbox__btn__text").textContent=r,e.setAttribute("aria-activedescendant",c),t[o].classList.remove("selected"),t[n].classList.add("selected"),t[o].removeAttribute("aria-selected"),t[n].setAttribute("aria-selected",!0),console.log(r.toLowerCase().trim()),a(r.toLowerCase().trim())}function u(t,e){t.setAttribute("aria-expanded",e)}function m(t){t.sort((function(t,e){return e.likes-t.likes}))}const h=document.querySelector(".listPhoto"),p=[],f=new s.a,_=new function(){this.CreateElement=function(t,e){const n=t;return t.video?n.html=new i(t,"video"):t.image&&(n.html=new i(t,"image")),n.updateLikes=function(){const t=this.html.querySelector(".listPhoto__like span");this.likes=this.likes+1,t.textContent=this.likes,e()},n.showElement=function(){const t=document.querySelector(".listPhoto");if(this.html){const e=this.html.querySelector(".listPhoto__like");e.onclick=t=>{this.updateLikes()},e.onkeydown=t=>{[32,13].includes(t.keyCode)&&this.updateLikes()},t.append(this.html)}},n}};r.a.then(t=>{const e=t.photographers.find(t=>t.id===c);f.CreateElement(e,"header");t.media.filter(t=>t.photographerId===c).forEach(t=>{if(t.image){const e=_.CreateElement(t,()=>d(p));p.push(e)}m(p),p.forEach(t=>{t.showElement()})}),d(p)}),function(t){const e=document.getElementsByClassName("listbox");Array.from(e).forEach(e=>{const n=e.querySelector(".listbox__btn"),o=e.querySelector(".listbox__content"),a=e.querySelector(".listbox__list"),c=e.getElementsByClassName("listbox__elt");n.onmouseover=function(t){u(n,!0),a.classList.remove("hidden")},o.onmouseout=function(t){o.contains(t.relatedTarget)||(u(n,!1),a.classList.add("hidden"))},n.onfocus=t=>{u(n,!0)},n.onfocusout=t=>{u(n,!1)},e.onkeydown=e=>{const o=Array.from(c).findIndex(t=>t.classList.contains("selected"));if([32,13].includes(e.keyCode)){if(a.classList.contains("hidden")?(a.classList.remove("hidden"),a.focus()):(a.classList.add("hidden"),n.focus()),38===e.keyCode){const e=0===o?c.length-1:o-1;l(c,n,e,o,t)}if(40===e.keyCode){const e=o===c.length-1?0:o+1;l(c,n,e,o,t)}}},e.onclick=e=>{const o=Array.from(c).findIndex(t=>t.classList.contains("selected")),r=Array.from(c).findIndex(t=>t===e.target);l(c,n,r,o,t),a.classList.add("hidden")}})}((function(t){switch(t){case"popularité":m(p);break;case"titre":!function(t){t.sort((function(t,e){return[t,e].forEach(t=>{t.image?t.text=t.image.replace(/_/g," "):t.video&&(t.text=t.video.replace(/_/g," "))}),t.text.localeCompare(e.text)}))}(p);break;case"date":!function(t){t.sort((function(t,e){return Date.parse(t.date)-Date.parse(e.date)}))}(p);break;default:m(p)}h.innerHTML="",p.forEach(t=>{t.showElement()})}))}]);